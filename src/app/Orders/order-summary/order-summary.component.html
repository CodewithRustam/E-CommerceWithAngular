<div class="container mb-4" style="margin-top:120px">
    <div class="card shadow-sm mx-auto" style="max-width: 400px;">
        <div class="card-header text-center">
            <h5>Order Summary</h5>
        </div>
        <div class="card-body">
            <div *ngIf="cartItemsData.length > 0; else emptyMessage">
                <ul class="list-group list-group-flush">
                    <ng-container *ngFor="let item of cartItemsData">
                        <li class="list-group-item d-flex align-items-center py-1">
                            <img [src]="item.imageUrl" alt="{{ item.name }}" class="img-thumbnail me-2"
                                style="width: 40px; height: 40px;">
                            <div class="flex-fill d-flex justify-content-between">
                                <span class="small">{{ item.name }} (x{{ item.productQuantity }})</span>
                                <span class="ms-1 small">{{ item.price | currency:'INR':'symbol' }}</span>
                            </div>
                        </li>
                    </ng-container>
                </ul>

                <div class="total text-center mt-2">
                    <strong>Total: <span style="color:forestgreen;">{{ getTotalPrice() | currency:'INR':'symbol'
                            }}</span></strong>
                </div>
                <button class="btn btn-success w-100 mt-2" (click)="confirmOrder()"
                    [disabled]="!isAddressSelected || !isPaymentDone">Confirm Order</button>
            </div>
            <ng-template #emptyMessage>
                <p class="text-center">No items in your order.</p>
            </ng-template>
        </div>
    </div>

    <!-- Thank You Modal -->
    <!-- Thank You Modal -->
    <div class="modal fade" tabindex="-1" role="dialog" *ngIf="showModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Thank You!</h5>
                    <button type="button" class="btn-close" (click)="closeModal()" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Your order has been placed successfully. Thank you for shopping with us!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>